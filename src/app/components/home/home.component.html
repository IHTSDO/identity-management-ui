<div *ngIf="user" class="home flex overflow-auto text-sm mt-12">
    <div class="w-80 flex-none p-3">
        <div class="rounded-s-full rounded-e-full p-1 bg-sky-100 mb-3 flex items-center cursor-pointer" routerLink="/home">
            <i class="fa-solid text-slate-700 fa-house-chimney text-2xl ps-2"></i>
            <p class="inline-block text-slate-700 ps-3">Home</p>
        </div>
        <div class="rounded-s-full rounded-e-full p-1 hover:bg-sky-200 mb-3 flex items-center cursor-pointer" routerLink="/user-information">
            <i class="fa-solid text-slate-700 fa-address-card text-2xl ps-2"></i>
            <p class="inline-block text-slate-700 ps-3">Personal Information</p>
        </div>
        <div class="rounded-s-full rounded-e-full p-1 hover:bg-sky-200 mb-3 flex items-center cursor-pointer" routerLink="/security">
            <i class="fa-solid text-slate-700 fa-lock text-2xl ps-2"></i>
            <p class="inline-block text-slate-700 ps-3">Security</p>
        </div>
    </div>
    <div class="flex-1 pr-80 overflow-auto scrollable-view">
        <div class="invisible rounded-full size-24 mt-5 m-auto bg-sky-500 pt-5 text-center text-6xl museo antialiased text-sky-100">{{getInitials(user)}}</div>
        <h1 class="text-2xl text-center m-3 text-slate-700">Welcome, <span class="text-3xl">{{user.displayName}}</span></h1>
        <p class="text-center text-slate-600">You can view your SNOMED International Account, as well as manage your personal information, security, and privacy policies.</p>

        <div class="grid grid-cols-2 gap-6 w-3/4 justify-self-center mt-10 auto-rows-fr">
            <div class="border rounded-lg">
                <div class="flex flex-col h-full">
                    <div class="flex justify-between items-center m-3">
                        <h2 class="text-xl text-slate-700 p-2">SNOMED Spaces</h2>
                        <i class="fa-solid text-slate-700 fa-users text-4xl p-2"></i>
                    </div>
                    <div class="flex-1 px-3">
                        <p class="text-slate-700 p-2">Access SNOMED Spaces for collaboration and structured shared spaces.</p>
                    </div>
                    <div class="border-t" (click)="redirectTo(spacesUrl)">
                        <button class="p-2 rounded-md text-sky-500 w-full">Open Confluence Spaces<i class="fa-solid fa-arrow-right ps-3"></i></button>
                    </div>
                </div>
            </div>
            <div class="border rounded-lg">
                <div class="flex flex-col h-full">
                    <div class="flex justify-between items-center m-3">
                        <h2 class="text-xl text-slate-700 p-2">SNOMED Forums</h2>
                        <i class="fa-solid text-slate-700 fa-comments text-4xl p-2"></i>
                    </div>
                    <div class="flex-1 px-3">
                        <p class="text-slate-700 p-2">Join discussions and connect with the SNOMED community through our forums and discussion boards.</p>
                    </div>
                    <div class="border-t" (click)="redirectTo(forumUrl)">
                        <button class="p-2 rounded-md text-sky-500 w-full">Join SNOMED Forums<i class="fa-solid fa-arrow-right ps-3"></i></button>
                    </div>
                </div>
            </div>
            <div class="border rounded-lg">
                <div class="flex flex-col h-full">
                    <div class="flex justify-between items-center m-3">
                        <h2 class="text-xl text-slate-700 p-2">SNOMED Docs</h2>
                        <i class="fa-solid text-slate-700 fa-book text-4xl p-2"></i>
                    </div>
                    <div class="flex-1 px-3">
                        <p class="text-slate-700 p-2">Access comprehensive documentation and guides for SNOMED CT products and services.</p>
                    </div>
                    <div class="border-t" (click)="redirectTo(docsUrl)">
                        <button class="p-2 rounded-md text-sky-500 w-full">Open SNOMED Docs<i class="fa-solid fa-arrow-right ps-3"></i></button>
                    </div>
                </div>
            </div>
            <div class="border rounded-lg">
                <div class="flex flex-col h-full">
                    <div class="flex-1 px-3 py-2 overflow-y-auto max-h-48">
                        <div *ngIf="loadingTopics" class="flex items-center justify-center py-4">
                            <div class="text-gray-500 text-sm">Loading topics...</div>
                        </div>
                        <div *ngIf="!loadingTopics && discourseTopics.length === 0" class="flex items-center justify-center py-4">
                            <div class="text-gray-500 text-sm">No topics available</div>
                        </div>
                        <div *ngFor="let topic of discourseTopics" class="topic-item">
                            <div class="topic-title">
                                <a [href]="getTopicUrl(topic)" target="_blank" class="text-sky-500 hover:text-sky-600 font-medium">
                                    {{ topic.title }}
                                </a>
                            </div>
                            <div class="topic-meta">
                                <span class="text-gray-500 text-xs">
                                    Started by {{ topic.created_by?.username || 'Unknown' }} • 
                                    {{ formatTopicDate(topic.created_at) }} • 
                                    {{ topic.reply_count }} replies
                                </span>
                            </div>
                        </div>
                    </div>
                    <div class="border-t">
                        <a href="{{forumUrl}}" class="block p-2 rounded-md text-sky-500 w-full text-center hover:bg-sky-50 transition-colors">
                            View All Topics<i class="fa-solid fa-arrow-right ps-3"></i>
                        </a>
                    </div>
                </div>
            </div>
<!--            <div class="border rounded-lg">-->
<!--                <div class="grid grid-cols-4">-->
<!--                    <div class="col-span-3 m-3">-->
<!--                        <h2 class="text-xl text-slate-700 p-2">Discourse</h2>-->
<!--                    </div>-->
<!--                    <div class="justify-self-end mx-3 mt-3">-->
<!--                        <i class="fa-solid text-slate-700 fa-table text-4xl p-2"></i>-->
<!--                    </div>-->
<!--                    <div class="col-span-4 min-h-28">-->
<!--                        <p class="text-slate-700 m-3 p-2">Discourse is an open forum for people to talk all things SNOMED.</p>-->
<!--                    </div>-->
<!--                    <div class="col-span-4 border-t" (click)="redirectTo('https://discourse.ihtsdotools.org/')">-->
<!--                        <button class="p-2 rounded-md text-sky-500 w-full">Open Discourse<i class="fa-solid fa-arrow-right ps-3"></i></button>-->
<!--                    </div>-->
<!--                </div>-->
<!--            </div>-->
<!--            <div class="border rounded-lg">-->
<!--                <div class="grid grid-cols-4">-->
<!--                    <div class="col-span-3 m-3">-->
<!--                        <h2 class="text-xl text-slate-700 p-2">Freshdesk</h2>-->
<!--                    </div>-->
<!--                    <div class="justify-self-end mx-3 mt-3">-->
<!--                        <i class="fa-solid text-slate-700 fa-headset text-4xl p-2"></i>-->
<!--                    </div>-->
<!--                    <div class="col-span-4 min-h-28">-->
<!--                        <p class="text-slate-700 m-3 p-2">The Freshdesk portal is another great place to find support whilst using SNOMED CT.</p>-->
<!--                    </div>-->
<!--                    <div class="col-span-4 border-t" (click)="redirectTo('https://ihtsdo.freshdesk.com/support/home')">-->
<!--                        <button class="p-2 rounded-md text-sky-500 w-full">Open Freshdesk<i class="fa-solid fa-arrow-right ps-3"></i></button>-->
<!--                    </div>-->
<!--                </div>-->
<!--            </div>-->
        </div>
    </div>
</div>
